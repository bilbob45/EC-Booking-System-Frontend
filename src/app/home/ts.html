<div class="row align-items-center">
    <!--<Primeng-TurboTable-Start>-->
    <div
        class="primeng-datatable-container"
        [busyIf]="primengTableHelperAuditLogs.isLoading"
    >
        <p-table
            #dataTableAuditLogs
            sortMode="multiple"
            (onLazyLoad)="getAuditLogs($event)"
            [value]="primengTableHelperAuditLogs.records"
            rows="{{ primengTableHelperAuditLogs.defaultRecordsCountPerPage }}"
            [paginator]="false"
            [lazy]="true"
            scrollable="true"
            ScrollWidth="100%"
            responsive="primengTableHelperAuditLogs.isResponsive"
            resizableColumns="primengTableHelperAuditLogs.resizableColumns"
        >
            <ng-template pTemplate="header">
                <tr>
                    <th style="width: 75px"></th>
                    <th style="width: 75px"></th>
                    <th style="width: 150px" pSortableColumn="userName">
                        {{ 'UserName' | localize }}
                        <p-sortIcon field="userName"></p-sortIcon>
                    </th>
                    <th style="width: 250px">
                        {{ 'Service' | localize }}
                    </th>
                    <th style="width: 250px">
                        {{ 'Action' | localize }}
                    </th>
                    <th style="width: 100px" pSortableColumn="executionDuration">
                        {{ 'Duration' | localize }}
                        <p-sortIcon field="executionDuration"></p-sortIcon>
                    </th>
                    <th style="width: 150px">
                        {{ 'IpAddress' | localize }}
                    </th>
                    <th style="width: 150px">
                        {{ 'Client' | localize }}
                    </th>
                    <th style="width: 150px">
                        {{ 'Browser' | localize }}
                    </th>
                    <th style="width: 150px" pSortableColumn="executionTime">
                        {{ 'Time' | localize }}
                        <p-sortIcon field="executionTime"></p-sortIcon>
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-record="$implicit">
                <tr>
                    <td style="width: 75px">
                        <div class="text-center">
                            <button
                                class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm"
                                (click)="showAuditLogDetails(record)"
                            >
                                <i class="la la-search" [attr.aria-label]="l('Search')"></i>
                            </button>
                        </div>
                    </td>
                    <td style="width: 75px">
                        <div class="text-center">
                            <i
                                *ngIf="record.exception"
                                class="fa fa-exclamation-triangle text-warning"
                            ></i>
                            <i
                                *ngIf="!record.exception"
                                class="fa fa-check-circle text-success"
                            ></i>
                        </div>
                    </td>
                    <td style="width: 150px">
                        <span class="p-column-title">{{ 'UserName' | localize }}</span>
                        {{ record.userName }}
                    </td>
                    <td style="width: 250px">
                        <span class="p-column-title">{{ 'Service' | localize }}</span>
                        {{ record.serviceName }}
                    </td>
                    <td style="width: 250px">
                        <span class="p-column-title">{{ 'Action' | localize }}</span>
                        {{ record.methodName }}
                    </td>
                    <td style="width: 100px">
                        {{ record.executionDuration }}ms
                        <span class="p-column-title">{{ 'Duration' | localize }}</span>
                    </td>
                    <td style="width: 150px">
                        <span class="p-column-title">{{ 'IpAddress' | localize }}</span>
                        {{ record.clientIpAddress }}
                    </td>
                    <td style="width: 150px">
                        <span class="p-column-title">{{ 'Client' | localize }}</span>
                        {{ record.clientName }}
                    </td>
                    <td style="width: 150px">
                        <span class="p-column-title">{{ 'Browser' | localize }}</span>
                        <span title="{{ record.browserInfo }}">
                            {{ truncateStringWithPostfix(record.browserInfo, 20) }}
                        </span>
                    </td>
                    <td style="width: 150px">
                        <span class="p-column-title">{{ 'Time' | localize }}</span>
                        {{ record.executionTime | luxonFormat: 'F' }}
                    </td>
                </tr>
            </ng-template>
        </p-table>
        <div
            class="primeng-no-data"
            *ngIf="primengTableHelperAuditLogs.totalRecordsCount == 0"
        >
            {{ 'NoData' | localize }}
        </div>
        <div class="primeng-paging-container">
            <p-paginator
                [rows]="primengTableHelperAuditLogs.defaultRecordsCountPerPage"
                #paginatorAuditLogs
                (onPageChange)="getAuditLogs($event)"
                [totalRecords]="primengTableHelperAuditLogs.totalRecordsCount"
                [rowsPerPageOptions]="
                    primengTableHelperAuditLogs.predefinedRecordsCountPerPage
                "
                [showCurrentPageReport]="true"
                [currentPageReportTemplate]="
                    'TotalRecordsCount' | localize: primengTableHelperAuditLogs.totalRecordsCount
                "
            ></p-paginator>
        </div>
    </div>
    <!--<Primeng-TurboTable-End>-->
          </div>